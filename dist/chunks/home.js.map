{"version":3,"file":"home.js","sources":["../../../packages/ui/components/EmptyPlaceholder.tsx","../../../packages/ui/services/socket.ts","../../../packages/ui/services/chat.ts","../../../packages/ui/components/SelectCanvasModeModal.tsx","../../../packages/ui/components/canvas/TextEditor.tsx","../../../packages/ui/components/Canvas.tsx","../../../packages/ui/components/TakePhotoModal.tsx","../../../packages/ui/components/ChatBox.tsx","../../../packages/ui/pages/home.tsx"],"sourcesContent":["import { RumiousComponent, Fragment, RumiousEmptyProps } from 'rumious';\n\ninterface EmptyPlaceholderProps{\n  content?:string,\n  icon?: string \n}\nexport class EmptyPlaceholder extends RumiousComponent<EmptyPlaceholderProps> {\n  static tagName = \"aurora-empty-placeholder\";\n  \n  template() {\n    return (\n      <div class=\"empty-state d-flex flex-col align-center justify-center p-4 text-muted\">\n        <i class=\"material-icons mb-2\" style=\"font-size: 48px;\">{this.props.icon ?? \"inbox\"}</i>\n        <p>{this.props.content ?? \"No content here\"}</p>\n      </div>\n    );\n  }\n}\n","import { io, Socket } from 'socket.io-client';\n\nconst socket: Socket = io(process.env.BACKEND_HOST as string);\n\nsocket.on('connect', () => {\n  console.log('Socket connected:', socket.id);\n});\n\nsocket.on('disconnect', () => {\n  console.log('Socket disconnected');\n});\n\nexport class SocketService {\n  static sendMsg < T = any > (topic: string, data: T): void {\n    socket.emit(topic, data);\n  }\n  \n  static listen < T = any > (topic: string, callback: (data: T) => void): void {\n    socket.on(topic, callback);\n  }\n  \n\n  static unlisten < T = any > (topic: string, callback: (data: T) => void): void {\n    socket.off(topic, callback);\n  }\n}","import { RumiousContext } from 'rumious';\nimport {\n  ChatData,\n  UserInfo,\n  CanvasObject,\n  MessageInfo,\n  CanvasModes,\n  CanvasChangeCommit\n} from '../types/index.js';\nimport { SocketService } from './socket.js';\n\nexport class ChatService {\n  \n  static initChat(\n    context: RumiousContext < ChatData > ,\n    user: UserInfo\n  ): Promise < boolean > {\n    return new Promise((resolve) => {\n      const onSuccess = () => {\n        SocketService.unlisten('chat:init:success', onSuccess);\n        SocketService.unlisten('chat:init:error', onError);\n        resolve(true);\n      };\n      \n      const onError = () => {\n        SocketService.unlisten('chat:init:success', onSuccess);\n        SocketService.unlisten('chat:init:error', onError);\n        resolve(false);\n      };\n      \n      SocketService.listen('chat:init:success', onSuccess);\n      SocketService.listen('chat:init:error', onError);\n      \n      SocketService.sendMsg('chat:init', { user });\n    });\n  }\n  \n  static async listenMsg(\n    context: RumiousContext < ChatData >\n  ) {\n    SocketService.listen('chat:send:error', (data: Error) => {\n      context.emit('error', data);\n    });\n    \n    SocketService.listen('chat:reply', (chatData: MessageInfo) => {\n      context.get('messages') !.push(chatData);\n      context.emit('msg', chatData);\n    });\n    \n    SocketService.listen('chat:canvas:mode:change', ({ mode }: { mode: CanvasModes }) => {\n      this.changeCanvas(context, mode);\n    });\n    \n    SocketService.listen(\"chat:canvas:read\", () => context.emit(\"canvas:read\", {}));\n    SocketService.listen(\"chat:canvas:write\", (commit: CanvasChangeCommit) => context.emit(\"canvas:write\", commit));\n    \n    context.on('canvas:content', (data: any) => SocketService.sendMsg('chat:canvas:content', data))\n  }\n  \n  static async sendMsgText(\n    context: RumiousContext < ChatData > ,\n    sender: UserInfo,\n    text: string | string[],\n    image:string | null = null\n  ): Promise < boolean > {\n    const chatData = {\n      id: Date.now().toString(32),\n      sender,\n      contents: typeof text === 'string' ? [text] : text,\n      image\n    };\n    \n    context.get('messages') !.push(chatData);\n    context.emit('msg', chatData);\n    \n    SocketService.sendMsg('chat:send', chatData);\n    \n    return true;\n  }\n  \n  static async changeCanvas(\n    context: RumiousContext < ChatData > ,\n    mode: CanvasModes\n  ) {\n    context.get(\"canvas\") !.mode = mode;\n    context.emit('canvas:mode:change', mode);\n  }\n}","import {\n  RumiousComponent,\n  Fragment,\n  RumiousContext,\n  createElementRef,\n  createState,\n  watch\n} from 'rumious';\n\nimport {\n  LightizUIModal\n} from 'lightiz-ui';\n\nimport type { \n  ChatData ,\n  CanvasObject,\n  CanvasModes\n} from '../types/index.js';\n\nimport { ChatService } from '../services/chat.js';\n\n\nconst CANVAS_MODES:Record<CanvasModes, string >= {\n  \"graphic\": \"Graphic Canvas\",\n  \"text\":\"Text Canvas\"\n};\n\n\ninterface SelectCanvasModeModalProps {\n  context: RumiousContext < ChatData >\n}\n\nexport class SelectCanvasModeModal extends RumiousComponent < SelectCanvasModeModalProps > {\n  static tagName = \"aurora-add-object-modal\";\n  private modalRef = createElementRef();\n  private currentType = createState < CanvasModes > (\"graphic\");\n  \n  getModal(): LightizUIModal {\n    return new LightizUIModal(\n      this.modalRef.target\n    );\n  }\n  \n  closeModal() {\n    this.getModal().close();\n    setTimeout(() => this.element.remove(), 3000);\n  }\n  \n  onRender() {\n    this.getModal().open();\n  }\n  \n  onDoneBtnClick(){\n    ChatService.changeCanvas(\n      this.props.context,\n      this.currentType.value\n    );\n    \n    this.closeModal();\n  }\n  \n  template() {\n    return (\n      <Fragment>\n        <div class=\"modal\" ref={this.modalRef}>\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h3 class=\"modal-title\">Select canvas mode</h3>\n              <button on:click={()=> this.closeModal()} class=\"ml-auto btn btn-icon material-icons\" >close</button>\n            </div>\n            <div class=\"modal-body\">\n              <div class=\"form-group m-0\">\n                <label class=\"form-label\">Mode:</label>\n                <select class=\"form-select\" model={this.currentType}>\n                  {Object.entries(CANVAS_MODES).map(([key, label]:[string, string]) => (\n                    <option value={key}>{label}</option>\n                  ))}\n                </select>\n              </div>\n              <br/>\n            </div>\n            <div class=\"modal-footer p-5\">\n              <button on:click={()=> this.onDoneBtnClick()} class=\"ml-auto btn btn-primary\" >Done</button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    )\n  }\n}","import {\n  RumiousComponent,\n  Fragment,\n  RumiousEmptyProps,\n  RumiousContext,\n  createElementRef,\n  createState\n} from 'rumious';\n\nimport type {\n  ChatData,\n  CanvasChangeCommit\n} from '../../types/index.js';\n\ninterface CanvasTextEditorProps {\n  context: RumiousContext < ChatData >\n}\n\nexport class CanvasTextEditor extends RumiousComponent<CanvasTextEditorProps> {\n  static tagName = \"aurora-canvas-text-editor\";\n\n  private currentState = createState<string>(\"User edited\");\n  private textAreaRef = createElementRef<HTMLTextAreaElement>();\n  private easyMDEInstance: any = null;\n\n  constructor() {\n    super();\n  }\n\n  private injectCDNAssets(): Promise<void> {\n    return new Promise((resolve) => {\n      if (!document.querySelector('#easymde-css')) {\n        const link = document.createElement('link');\n        link.id = 'easymde-css';\n        link.rel = 'stylesheet';\n        link.href = 'https://unpkg.com/easymde/dist/easymde.min.css';\n        document.head.appendChild(link);\n      }\n\n      if (!document.querySelector('#easymde-js')) {\n        const script = document.createElement('script');\n        script.id = 'easymde-js';\n        script.src = 'https://unpkg.com/easymde/dist/easymde.min.js';\n        script.onload = () => resolve();\n        document.head.appendChild(script);\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  private async initEditor() {\n    await this.injectCDNAssets();\n    this.easyMDEInstance = new (window as any).EasyMDE({\n      element: this.textAreaRef.value,\n      spellChecker: false,\n      toolbar: [\"bold\", \"italic\", \"heading\", \"|\", \"quote\", \"code\", \"link\", \"preview\"],\n      minHeight: \"300px\",\n      autoDownloadFontAwesome: false\n    });\n  }\n\n  onRender() {\n    const context = this.props.context;\n\n    context.on('canvas:read', async () => {\n      await this.initEditor();\n\n      const time = new Date().toISOString();\n      this.currentState.set(`Model readed - Last time: ${time}`);\n      const content = this.easyMDEInstance?.value?.() || this.textAreaRef.value?.value || '';\n      context.emit('canvas:content', content);\n    });\n\n    context.on('canvas:write', async (commit: CanvasChangeCommit) => {\n      await this.initEditor();\n\n      const time = new Date().toISOString();\n      this.currentState.set(`Model edited - Last time: ${time}`);\n      if (this.easyMDEInstance) {\n        this.easyMDEInstance.value(commit.content);\n      } else {\n        this.textAreaRef.text = commit.content;\n      }\n    });\n  }\n\n  onTextInputChange() {\n    const time = new Date().toISOString();\n    this.currentState.set(`User edited - Last time: ${time}`);\n  }\n\n  template() {\n    return (\n      <Fragment>\n        <span class=\"p-3\">\n          <h5>Text editor</h5>\n          <span class=\"sub-text\" bind:text={this.currentState}></span>\n        </span>\n        <br /><br />\n        <textarea ref={this.textAreaRef} on:change={() => this.onTextInputChange()} style=\"width:100%; height:50vh;\" />\n      </Fragment>\n    );\n  }\n}","import {\n  RumiousComponent,\n  Fragment,\n  RumiousContext,\n  createElementRef\n} from 'rumious';\nimport { AppContext } from '../context/app.js';\nimport { EmptyPlaceholder } from './EmptyPlaceholder.jsx'\nimport type { MessageInfo, ChatData, CanvasModes } from '../types/index.js';\nimport { SelectCanvasModeModal } from './SelectCanvasModeModal.jsx'\nimport { CanvasTextEditor } from './canvas/TextEditor.jsx';\n\ninterface CanvasProps {\n  context: RumiousContext < ChatData >\n}\n\nexport class Canvas extends RumiousComponent < CanvasProps > {\n  static tagName = \"aurora-canvas\";\n  private canvasRef = createElementRef();\n  private emptyPlaceholder = createElementRef();\n  private canvasContentRef = createElementRef();\n  \n  constructor() {\n    super();\n  }\n  \n  addObject(data: CanvasModes) {\n    this.emptyPlaceholder.addClasses(\"d-none\");\n    this.canvasContentRef.text = \"\";\n    switch (data) {\n      case \"text\":\n        this.canvasContentRef.addChild(this.render(\n          <CanvasTextEditor\n            context={this.props.context}\n          />\n        ));\n        break;\n    }\n  }\n  \n  onRender() {\n    let context = this.props.context;\n    context.on(\"canvas:mode:change\", (data: CanvasModes) => this.addObject(data));\n    context.on(\"canvas:open\", () => this.element.classList.add(\"open\"));\n    context.on(\"canvas:close\", () => this.element.classList.remove(\"open\"));\n  }\n  \n  onChangeBtnClick() {\n    this.warp(\n      <SelectCanvasModeModal context={this.props.context}/>,\n      document.body\n    );\n  }\n  \n  template() {\n    return (\n      <Fragment>\n        <div ref={this.canvasRef} class=\"canvas-header p-3 d-flex align-center \">\n          <h4>Canvas</h4>\n          <div class=\"ml-auto d-flex align-center\">\n            <button on:click={()=> this.onChangeBtnClick()} class=\"ml-auto btn btn-icon material-icons\" >change_circle</button>\n            <button on:click={()=> this.element.classList.remove(\"open\")} class=\"ml-auto btn btn-icon material-icons\" >close</button>\n          </div>\n        </div>\n        <div class=\"p-3 canvas-contents\">\n          <span ref={this.emptyPlaceholder}>\n            <EmptyPlaceholder \n              content=\"No item here\" \n            />\n          </span>\n          <span ref={this.canvasContentRef} />\n        </div>\n      </Fragment>\n    );\n  }\n  \n}","import {\n  RumiousComponent,\n  Fragment,\n  RumiousContext,\n  createElementRef\n} from 'rumious'\n\nimport { LightizUIModal } from 'lightiz-ui'\nimport type { ChatData } from '../types/index.js'\n\ninterface TakePhotoModalProps {\n  context: RumiousContext < ChatData >\n}\n\nexport class TakePhotoModal extends RumiousComponent < TakePhotoModalProps > {\n  static tagName = \"aurora-take-photo-modal\";\n  private modalRef = createElementRef();\n  private videoRef = createElementRef();\n  private canvasRef = createElementRef();\n  private stream: MediaStream | null = null;\n  \n  getModal(): LightizUIModal {\n    return new LightizUIModal(this.modalRef.target);\n  }\n  \n  closeModal() {\n    this.getModal().close();\n    this.stopCamera();\n    setTimeout(() => this.element.remove(), 5000);\n  }\n  \n  async startCamera() {\n    try {\n      this.stream = await navigator.mediaDevices.getUserMedia({ video: true });\n      const video = this.videoRef.target as HTMLVideoElement;\n      video.srcObject = this.stream;\n      video.play();\n    } catch (error) {\n      console.error(\"Failed to access webcam:\", error);\n    }\n  }\n  \n  stopCamera() {\n    if (this.stream) {\n      this.stream.getTracks().forEach(track => track.stop());\n      this.stream = null;\n    }\n  }\n  \n  capturePhoto() {\n    const context = this.props.context;\n    const video = this.videoRef.target as HTMLVideoElement;\n    const canvas = this.canvasRef.target as HTMLCanvasElement;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n    \n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\n    \n    const imageData = canvas.toDataURL(\"image/png\");\n    context.emit('chat:input:attach:image', imageData);\n    \n    this.closeModal();\n  }\n  \n  onRender() {\n    this.getModal().open();\n    this.startCamera();\n  }\n  \n  template() {\n    return (\n      <Fragment>\n        <div class=\"modal\" ref={this.modalRef}>\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h3 class=\"modal-title\">Take photo</h3>\n              <button on:click={() => this.closeModal()} class=\"ml-auto btn btn-icon material-icons\">close</button>\n            </div>\n            <div class=\"modal-body\">\n              <video ref={this.videoRef} class=\"rounded shadow mb-4\" autoplay muted style=\"width:100%;\"></video>\n              <canvas ref={this.canvasRef} class=\"hidden\" style=\"display: none;\"></canvas>\n            </div>\n            <div class=\"modal-footer p-5\">\n              <button on:click={() => this.capturePhoto()} class=\"btn btn-primary\">Capture</button>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    )\n  }\n}","import {\n  RumiousComponent,\n  Fragment,\n  createElementRef,\n  createHTMLInjector,\n  RumiousContext\n} from 'rumious';\nimport { EmptyPlaceholder } from './EmptyPlaceholder.jsx'\nimport { TakePhotoModal } from './TakePhotoModal.jsx'\n\nimport { MessageInfo, ChatData } from '../types/index.js';\nimport { ChatService } from '../services/chat.js';\n\nconst isMobileView = (bp = 768) => window.innerWidth <= bp;\n\ninterface ChatBoxProps {\n  context: RumiousContext < ChatData > ;\n}\n\nexport class ChatBox extends RumiousComponent < ChatBoxProps > {\n  static tagName = \"aurora-chatbox\";\n  \n  private headerRef = createElementRef();\n  private listMsg = createElementRef();\n  private attachedContentRef = createElementRef();\n  private messageRef = createElementRef();\n  private emptyPlaceholder = createElementRef();\n  private attachedContents = [];\n  constructor() {\n    super();\n  }\n  \n  addNote(\n    msg: string\n  ) {\n    this.listMsg.addChild(this.render(\n      <div class=\"divider divider-text\">\n        {msg}\n      </div>\n    ));\n    this.emptyPlaceholder.addClasses(\"d-none\");\n    this.scrollToBottom();\n  }\n  \n  addMessage(\n    msg: MessageInfo\n  ) {\n    this.listMsg.addChild(this.render(\n      <div class=\"message\">\n        <span class=\"message-info\">\n          <img class=\"avatar avatar-smd\" src=\"./assets/bg.jpeg\" style=\"width:33px; height:33px;\" />\n          <span class=\"message-sender\">\n            <span>{msg.sender.name}</span>\n            <span class=\"sub-text\">{msg.sender.role}</span>\n          </span>\n        </span>\n        <div class=\"message-content\">\n          {msg.contents.map((item) => <span inject={createHTMLInjector(marked.parse(item))}></span>)}\n        </div>\n      </div>\n    ));\n    this.emptyPlaceholder.addClasses(\"d-none\");\n    this.scrollToBottom();\n  }\n  \n  takePhoto() {\n    this.warp(\n      <TakePhotoModal context={this.props.context}/>,\n      document.body\n    );\n  }\n  \n  scrollToBottom() {\n    requestAnimationFrame(() => {\n      const el = isMobileView() ? window : this.listMsg.target;\n      el.scrollTo({\n        top: el === window ? document.documentElement.scrollHeight : (el as HTMLElement).scrollHeight,\n        behavior: 'smooth'\n      });\n    });\n  }\n  \n  attachedImage(data: any) {\n    this.attachedContents.push(data);\n    this.attachedContentRef.addChild(this.render(\n      <img src={data}/>\n    ))\n  }\n  \n  onCreate() {\n    this.props.context.on(\"msg\", (msg: MessageInfo) => this.addMessage(msg));\n    this.props.context.on(\"error\", () => this.addNote(\"An error occurred \"));\n    this.props.context.on(\"chat:input:attach:image\", (data: any) => this.attachedImage(data));\n  }\n  \n  async onRender() {\n    if (isMobileView()) {\n      window.addEventListener(\"scroll\", () => {\n        const method = window.scrollY > 100 ? 'addClasses' : 'removeClasses';\n        this.headerRef[method]('sticky');\n      });\n    }\n    \n    const ctx = this.props.context;\n    await ChatService.initChat(ctx, ctx.get(\"user\") !);\n    for (let msg of ctx.get(\"messages\") !) {\n      this.addMessage(msg);\n    }\n    \n    ChatService.listenMsg(ctx);\n  }\n  \n  \n  onSendBtnClick() {\n    const msg = this.messageRef.value?.trim();\n    if (!msg) return;\n    \n    const ctx = this.props.context;\n    ChatService.sendMsgText(\n      ctx, \n      ctx.get(\"user\") !,\n      msg,\n      this.attachedContents[0] as string\n    );\n    this.messageRef.value = \"\";\n    this.attachedContentRef.text = \"\"\n  }\n  \n  template() {\n    return (\n      <Fragment>\n        <div ref={this.headerRef} class=\"chatbox-header p-3 d-flex align-center\">\n          <h4>Chat</h4>\n          <span class=\"ml-auto  d-flex align-center\">\n            <button on:click={()=> this.takePhoto()}class=\"ml-auto btn btn-icon material-icons\">add_a_photo</button>\n            <button class=\"ml-auto btn btn-icon material-icons\">add</button>\n            <button class=\"ml-auto open-canvas-btn btn btn-icon material-icons\" on:click={()=> this.props.context.emit(\"canvas:open\",null)}>menu_open</button>\n          </span>\n        </div>\n        \n        <div ref={this.listMsg} class=\"chatbox-contents p-3\">\n          <span ref={this.emptyPlaceholder}>\n            <EmptyPlaceholder \n              content=\"Everything is ready, let's start your conversation  \" \n              icon=\"forum\"\n            />\n          </span>\n        </div>\n        <div class=\"chatbox-input p-2\">\n          <div class=\"attached-preview\" ref={this.attachedContentRef} class=\"attached-preview mb-2\"></div>\n          <div class=\"input-bar d-flex align-center gap-2\">\n            <button on:click={()=> this.takePhoto()} class=\"btn btn-icon material-icons\">add</button>\n            <input ref={this.messageRef} type=\"text\" class=\"form-input flex-1\" placeholder=\"Type message ...\" />\n            <button on:click={() => this.onSendBtnClick()} class=\"btn btn-icon material-icons\">send</button>\n          </div>\n        </div>\n    </Fragment>\n    );\n  }\n}","import {\n  RumiousComponent,\n  Fragment,\n  createElementRef,\n  createContext\n} from 'rumious';\nimport { RumiousRouterPageProps } from 'rumious-router';\nimport { Canvas } from '../components/Canvas.jsx';\nimport { ChatBox } from '../components/ChatBox.jsx';\nimport { ChatData } from '../types/chat.jsx';\n\n\nexport class Page extends RumiousComponent < RumiousRouterPageProps > {\n  private embedElement = createElementRef();\n  private chatContext = createContext < ChatData > ({\n    title:\"Chat #1\",\n    messages:[],\n    canvas:{\n      mode:\"text\"\n    },\n    user:{\n      name:\"User #1\",\n      id:Date.now().toString(32),\n      role:\"User\"\n    }\n  });\n  \n  constructor() {\n    super();\n  }\n  \n  template() {\n    return (\n      <Fragment>\n        <div class=\"panel\" style=\"margin-top: 1rem;\">\n          <div class=\"content\" >\n            <ChatBox context={this.chatContext}/>\n          </div>\n          <div ref={this.embedElement} class=\"content\">\n            <Canvas context={this.chatContext}/>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}"],"names":["EmptyPlaceholder","RumiousComponent","tagName","template","window","RUMIOUS_JSX","_rumious_root_6db51c6f","_rumious_ctx_5fce8313","_rumious_el","document","createElement","setAttribute","appendChild","createTextNode","_rumious_el2","_rumious_dymanic_","window.RUMIOUS_JSX","dynamicValue","props","icon","_rumious_el3","_rumious_dymanic_2","content","socket","io","on","console","log","id","SocketService","sendMsg","topic","data","emit","listen","callback","unlisten","off","ChatService","initChat","context","user","Promise","resolve","onSuccess","onError","listenMsg","chatData","get","push","mode","changeCanvas","commit","sendMsgText","sender","text","image","Date","now","toString","contents","CANVAS_MODES","SelectCanvasModeModal","modalRef","createElementRef","currentType","createState","getModal","LightizUIModal","target","closeModal","close","setTimeout","element","remove","onRender","open","onDoneBtnClick","value","_rumious_root_bdef4f1f","_rumious_ctx_74ec952d","_rumious_frag","createDocumentFragment","addDirective","_rumious_el4","_rumious_el5","_rumious_el6","_rumious_el7","_rumious_el8","_rumious_el9","Object","entries","map","key","label","_rumious_root_adaa66c9","_rumious_ctx_a2bdf8f7","_rumious_el13","_rumious_el10","_rumious_el11","_rumious_el12","CanvasTextEditor","currentState","textAreaRef","easyMDEInstance","constructor","injectCDNAssets","querySelector","link","rel","href","head","script","src","onload","initEditor","EasyMDE","spellChecker","toolbar","minHeight","autoDownloadFontAwesome","time","toISOString","set","onTextInputChange","_rumious_root_fa3f0c34","_rumious_ctx_c3670da2","Canvas","canvasRef","emptyPlaceholder","canvasContentRef","addObject","addClasses","addChild","render","_rumious_root_217f1ef2","_rumious_ctx_b9d9da76","createComponent","setup","classList","add","onChangeBtnClick","warp","_rumious_root_2fb6436e","_rumious_ctx_8fbcb833","body","_rumious_root_3905c332","_rumious_ctx_ee1a0eb1","TakePhotoModal","videoRef","stream","stopCamera","startCamera","navigator","mediaDevices","getUserMedia","video","srcObject","play","error","getTracks","forEach","track","stop","capturePhoto","canvas","ctx","getContext","width","videoWidth","height","videoHeight","drawImage","imageData","toDataURL","_rumious_root_085d7e0e","_rumious_ctx_e8109e85","isMobileView","bp","innerWidth","ChatBox","headerRef","listMsg","attachedContentRef","messageRef","attachedContents","addNote","msg","_rumious_root_93a9ec89","_rumious_ctx_5c4f3443","scrollToBottom","addMessage","_rumious_root_dbcd3028","_rumious_ctx_04dd2106","name","_rumious_dymanic_3","role","_rumious_dymanic_4","item","_rumious_root_ae951ae3","_rumious_ctx_5ab8f5e1","createHTMLInjector","marked","parse","takePhoto","_rumious_root_dd0a7452","_rumious_ctx_707ba1ef","requestAnimationFrame","el","scrollTo","top","documentElement","scrollHeight","behavior","attachedImage","_rumious_root_6e2a3386","_rumious_ctx_51ef9e9f","onCreate","addEventListener","method","scrollY","onSendBtnClick","trim","_rumious_root_e1ec09bc","_rumious_ctx_bbf37017","_rumious_el14","_rumious_el15","_rumious_el16","_rumious_el17","_rumious_el18","_rumious_el19","_rumious_el20","_rumious_el21","_rumious_el22","_rumious_el23","_rumious_el24","_rumious_el25","_rumious_el26","Page","embedElement","chatContext","createContext","title","messages","_rumious_root_fbcdf990","_rumious_ctx_a3eb2504"],"mappings":"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"}